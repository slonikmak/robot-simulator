# Аудит симуляции робота

## Цель
Проверить, соответствует ли симуляция поведения робота возможностям реального железа (Arduino, HC-SR04, TCS230 и пары моторов) и реалистичной физике.

## Выводы

### Реалистично реализовано
- Дифференциальный привод и ограничения скорости/ускорения соответствуют реальным мотор-редукторам.
- Логика конечного автомата в `firmware.js` подходит для прошивки на Arduino.
- Модель шумов УЗ-датчика и частота опроса (15 Гц) близки к реальным характеристикам.

### Несоответствия и проблемные аспекты
1. **Отсутствие позиционирования**: робот в симуляции хранит координаты кладок и безошибочно возвращается к ним. Arduino без внешнего навигационного решения не может локализоваться так точно; через несколько движений он потеряет ориентацию.
2. **Слишком широкий угол обзора УЗ-датчика**: выставлен 60° вместо реальных ~15°. Это приводит к нереалистичному обнаружению объекта, находящегося сбоку.
3. **Дистанция срабатывания**: величина `WAKE_DIST_FROM_BOUNDARY` = 1 м (от робота) не учитывает радиус зоны 2 м и реальные дальности HC-SR04. В условиях выставки за пределами зоны объект может находиться дальше и быть не замеченным.
4. **Датчик цвета**: TCS230 в симуляции мгновенно определяет границу, но в реальности  ему требуются особые условия (высокий корпус, освещение). Более практично использовать ИК-линии датчики.

### Рекомендации
- Перейти на простую логику: робот не возвращается к координатам, а ориентируется по границе зоны (датчик цвета) или просто откатывается назад фиксированное время.
- Сузить FOV УЗ-датчика и добавить поведение "поиска" (вращение).
- Обновить дистанцию пробуждения до 3–4 м или переосмыслить ТЗ.
- Если требуется точное позиционирование, заложить внешнюю камеру/лидар и более мощную плату (ESP32/RPi).

## Заключение
Текущая симуляция полезна для визуализации идеи и оценки поведения, но содержит элементы, которые нельзя достоверно реализовать на Arduino без расширений. Аудит выявил конкретные изменения, которые необходимо отразить в симуляции или в проекте реального робота, чтобы избежать нереалистичных ожиданий.

---
Файл создан автоматически на основе анализа спецификации и кода симулятора.
